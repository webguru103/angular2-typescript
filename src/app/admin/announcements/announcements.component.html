<div id="announcements-datatable" class="row">
  <div style="margin-left: 3.5%;">
    <h4 class="modal-title" style="opacity: 0.7; margin-left: 10px;">Announcement Administration</h4>
  </div>
  <div id="create-button" class="row">
    <button id='createBtn' md-raised-button (click)='openCreateDialog()'>Create</button>
  </div>
  <ngx-datatable class="material" [rows]="dataRows" [columnMode]="'force'" [columns]="columns" [headerHeight]="50" [footerHeight]="50"
    [rowHeight]="'auto'" [externalPaging]="true" [externalSorting]="true" [count]="count" [offset]="offset" [limit]="limitPerPage"
    (page)='onPage($event)' (sort)="onSort($event)" [loadingIndicator]="loadingIndicator">
  </ngx-datatable>

  <template #actionsTemplate let-row="row">
    <div class="btn-group threedots-style" id="action-dropdown-menu" dropdown [autoClose]="'nonInput'">
      <button id="single-button" type="button" class="btn" dropdownToggle>
      <span class="aui-icon aui-icon-small aui-iconfont-more"></span>
    </button>
      <ul *dropdownMenu role="menu" aria-labelledby="single-button" class="dropdown-menu dropdown-menu-right">
        <li role="menuitem"><a color="warn" (click)='view(row)' class="dropdown-item" href="javascript:void(0)"><i class="fa fa-eye"></i> View</a></li>
        <li role="menuitem"><a (click)="edit(row)" class="dropdown-item" href="javascript:void(0)"><i class="fa fa-pencil-square-o"></i> Edit</a></li>
        <li role="menuitem"><a color="warn" (click)='delete(row)' class="dropdown-item" href="javascript:void(0)"><i class="fa fa-trash-o"></i> Delete</a></li>
      </ul>
    </div>
  </template>

  <template #description let-value='value'>
    {{value | truncate : 40}}
  </template>

  <template #title let-value='value'>
    {{value | truncate : 30}}
  </template>

  <template #fileName let-value='value' let-row='row'>
    <a style="cursor:pointer" (click)='download(row)'>{{value | truncate : 30}}</a>
  </template>

  <template #dateHeaderTemplate let-column="column" let-sort="sortFn">
    <div (click)="sort()" style="cursor:pointer">{{column.name}}</div>
  </template>

  <template #titleHeaderTemplate let-column="column">
    <div>{{column.name}}</div>
  </template>

  <template #descriptionHeaderTemplate let-column="column">
    <div>{{column.name}}</div>
  </template>

  <template #fileHeaderTemplate let-column="column">
    <div>{{column.name}}</div>
  </template>

  <template #actionHeaderTemplate let-column="column">
    <div>{{column.name}}</div>
  </template>
</div>